<h3 id="라우팅의-기본-개념">라우팅의 기본 개념</h3>
<p><strong>라우터</strong>는 <strong>라우팅</strong>을 수행할 대표적인 장비이다. 라우팅이란 패킷이 이동할 최적의 경로를 결정하는 과정이다.
<img src="https://velog.velcdn.com/images/kdhun-0814/post/8e9cdd7f-2c99-42fd-a487-dd82d4449f24/image.png" width="500" /></p>
<p>라우터는 서로 다른 네트워크 간의 통신을 가능하게 하는 네트워크 계층의 장비이다. 네트워크 통신 과정에서 패킷은 여러 라우터를 거쳐 다양한 경로로 이동할 수 있다.</p>
<ul>
<li><strong>홉 (Hop)</strong>: 라우팅 도중 패킷이 한 라우터 또는 호스트를 거쳐 다음 장비로 이동하는 한 단계를 의미한다. <code>traceroute</code> 명령어를 통해 출발지에서 목적지까지 거치는 홉의 수를 확인할 수 있다.<img src="https://velog.velcdn.com/images/kdhun-0814/post/7c22095b-b9a9-4be4-bc6b-7b2f622ab66d/image.png" />
<img src="https://velog.velcdn.com/images/kdhun-0814/post/789f0aba-3834-48a0-aef4-5152b7adea0d/image.png" />
위의 예시는 목적지까지 총 15번의 홉을 거쳤음을 보여줌.

</li>
</ul>
<hr />
<h3 id="라우팅-테이블">라우팅 테이블</h3>
<p>라우터는 라우팅을 수행하기 위해 <strong>라우팅 테이블</strong>을 참고한다. 라우팅 테이블은 특정 수신지에 도달하기 위한 경로 정보를 명시한 표와 같다.
<img src="https://velog.velcdn.com/images/kdhun-0814/post/0ee788ef-9f15-4f77-b872-089088dd5ccb/image.png" /></p>
<p>라우팅 테이블에 포함되는 주요 정보는 다음과 같다.</p>
<ul>
<li><strong>수신지 IP 주소와 서브넷 마스크</strong>: 최종적으로 패킷을 전달할 대상.</li>
<li><strong>다음 홉(Next Hop)</strong>: 최종 수신지까지 가기 위해 다음으로 거쳐야 할 라우터의 IP 주소 또는 인터페이스를 의미한다. 게이트웨이라고도 불린다.</li>
<li><strong>네트워크 인터페이스</strong>: 패킷을 내보낼 통로(NIC)의 이름이나 그에 대응하는 IP 주소이다.</li>
<li><strong>메트릭(Metric)</strong>: 해당 경로로 이동하는 데 드는 비용. 라우터는 메트릭이 낮은 경로를 더 선호한다.</li>
</ul>
<hr />
<h3 id="정적-라우팅-vs-동적-라우팅">정적 라우팅 vs. 동적 라우팅</h3>
<p>라우팅 테이블이 만들어지는 방식에 따라 라우팅은 <strong>정적</strong>과 <strong>동적</strong>으로 분류된다.
<img src="https://velog.velcdn.com/images/kdhun-0814/post/34dfc1dd-fa05-469f-8894-5e96bde0ceb8/image.png" width="500" /></p>
<ul>
<li><strong>정적 라우팅</strong>: 사용자가 라우팅 테이블 항목을 수동으로 직접 구성하는 방식이다. 네트워크 규모가 작고 변화가 적을 때 효율적이다.<img src="https://velog.velcdn.com/images/kdhun-0814/post/373839c8-4644-4feb-a0f8-b82b1bc39e0b/image.png" /></li>
<li><strong>동적 라우팅</strong>: 네트워크 규모가 커지고 관리가 복잡해질 때 사용한다. 라우팅 프로토콜을 이용해 라우팅 테이블 항목이 자동으로 생성되고, 네트워크 경로에 문제가 발생하면 자동으로 경로를 우회하여 갱신한다.</li>
</ul>
<hr />
<h3 id="자율-시스템-autonomous-system-as">자율 시스템 (Autonomous System, AS)</h3>
<p>동적 라우팅과 라우팅 프로토콜을 이해하기 위한 배경지식으로 **자율 시스템(AS)**이 있다. AS는 한 회사나 단체에서 관리하는 라우터들의 집단으로, 인터넷상에서 고유한 AS 번호(ASN)가 할당된다.
<img src="https://velog.velcdn.com/images/kdhun-0814/post/47540efe-08c6-4015-9fec-3b63549f2c80/image.png" /></p>
<p>AS 내부에서 통신하는 라우터와 AS 외부와 통신하는 라우터가 존재한다. AS 외부와 통신하는 특별한 라우터를 **AS 경계 라우터(ASBR)**라고 부른다.
<img src="https://velog.velcdn.com/images/kdhun-0814/post/ea969110-4d80-4dfc-adb9-98ec90df3382/image.png" /></p>
<hr />
<h3 id="라우팅-프로토콜의-종류">라우팅 프로토콜의 종류</h3>
<p>라우팅 프로토콜은 라우터끼리 정보를 교환하여 최적의 경로를 찾는 프로토콜이다. AS 내부에서 사용되는 **IGP(Interior Gateway Protocol)**와 AS 외부에서 사용되는 **EGP(Exterior Gateway Protocol)**로 나뉜다.
<img src="https://velog.velcdn.com/images/kdhun-0814/post/05f7b4bd-0904-4ff2-beb9-b38d269a3329/image.png" width="500" /></p>
<h4 id="igp-rip와-ospf"><strong>IGP: RIP와 OSPF</strong></h4>
<ul>
<li>**RIP(Routing Information Protocol)**는 <strong>거리 벡터</strong> 기반의 라우팅 프로토콜이다. 메트릭으로 **홉 카운트(라우터 수)**를 사용하며, 홉 수가 가장 적은 경로를 최적의 경로로 판단한다.<img src="https://velog.velcdn.com/images/kdhun-0814/post/80f84b8b-c61c-4ded-9c73-deb8a1d2a213/image.png" /></li>
<li>**OSPF(Open Shortest Path First)**는 <strong>링크 상태</strong> 기반의 라우팅 프로토콜이다. 네트워크의 상태를 지도처럼 그린 뒤 최단 경로 알고리즘을 사용해 경로를 결정한다. 메트릭으로 **링크 비용(Link Cost)**을 사용하며, 이는 주로 <strong>대역폭</strong>을 기준으로 계산된다. 대역폭이 높을수록 메트릭이 낮아져 더 좋은 경로로 인식한다.<img src="https://velog.velcdn.com/images/kdhun-0814/post/f0112521-8670-4000-bca9-5f862b2d1b99/image.png" />
> **대역폭과 홉 카운트의 관계**: 대역폭과 홉 카운트 자체는 직접적인 관계가 없다. RIP는 대역폭을 무시하고 홉 수가 적은 경로를 선택하기 때문에, OSPF가 더 효율적인 라우팅 프로토콜로 평가된다.

</li>
</ul>
<h4 id="egp-bgp"><strong>EGP: BGP</strong></h4>
<ul>
<li>**BGP(Border Gateway Protocol)**는 AS 간 통신에 사용되는 대표적인 프로토콜이다.<ul>
<li><strong>eBGP</strong>: AS 간 통신에 사용된다.</li>
<li><strong>iBGP</strong>: AS 내 통신에 사용된다.
BGP는 <strong>피어링</strong> 과정을 통해 다른 AS의 라우터와 연결을 유지한다.<img src="https://velog.velcdn.com/images/kdhun-0814/post/018c4061-b246-4a98-9b36-fccb441e8352/image.png" />
BGP는 RIP와 OSPF보다 최적 경로 결정 과정이 복잡하다. 수신지 주소 외에 다양한 \*\*속성(Attribute)\*\*과 \*\*정책(Policy)\*\*을 고려하기 때문이다.</li>
<li><strong>AS Path 속성</strong>: 메시지가 수신지에 이르는 과정에서 통과하는 AS들의 목록을 나타낸다. BGP는 AS-Path를 고려하여 경로를 결정하므로 <strong>경로 벡터 라우팅 프로토콜</strong>의 일종이라고 불린다.<img src="https://velog.velcdn.com/images/kdhun-0814/post/a9b2f672-9bc8-4026-aca5-93cc157b5a13/image.png" />
<img src="https://velog.velcdn.com/images/kdhun-0814/post/9c9c8303-d979-4b28-bab0-3c279d8d94c5/image.png" /></li>
<li><strong>Next Hop 속성</strong>: 다음으로 거쳐야 할 라우터의 IP 주소를 나타낸다.<img src="https://velog.velcdn.com/images/kdhun-0814/post/f7f045a1-0dac-458e-8a86-be6386606d14/image.png" /></li>
<li><strong>Local Preference 속성</strong>: 지역 선호도를 의미하며, AS 내부에서 어떤 경로를 선호할지에 대한 척도이다. 일반적으로 정책의 영향을 받아 다른 속성보다 우선시된다.</li>
</ul>
</li>
</ul>